# Nesting whiteboards 嵌套白板

一个基于 AntV G6 的嵌套白板，支持矩形节点、文本节点、图片节点的创建和编辑，以及子图的管理。
核心亮点：每个**节点**都是一个**子图**，双击可查看细节

## 功能特性

### 基础节点操作

#### 矩形节点
- 点击"Add Rectangle"按钮，然后点击画布添加矩形
- 支持拖拽移动
- 右键菜单功能：
  - 编辑文字
  - 调整字体大小（12px-24px）
  - 更改文字颜色
- 选中时显示蓝色边框
- 双击进入子图模式

#### 文本节点
- 点击"Add Text"按钮，然后点击画布添加文本
- 支持拖拽移动
- 右键菜单功能：
  - 编辑文字
  - 调整字体大小
  - 更改文字颜色
- 选中时显示蓝色边框

#### 图片节点
- 通过复制图片并在画布上粘贴（Ctrl+V）来添加
- 图片会自动添加到鼠标位置
- 支持拖拽移动
- 支持通过四角控制点调整大小
- 选中时显示蓝色边框和调整控制点

### 连接功能
- 点击"Add Arrow"按钮启动连接模式
- 依次点击两个节点创建连接
- 支持删除连接

### 子图功能
- 双击矩形节点进入子图
- 子图支持所有主图的编辑功能
- 右上角显示返回按钮
- 底部导航栏显示当前路径
- 可以点击导航栏快速返回任意层级

### 通用功能
- 画布缩放（鼠标滚轮）
- 画布拖动（鼠标拖动空白处）
- 选中节点后按回车快速编辑文字
- 编辑器中：Enter键完成编辑，Shift+Enter键换行
- 选中后点击删除按钮可删除节点
- 支持保存和加载功能

## 快捷键

- `Ctrl + V`: 粘贴图片
- `Enter`: 编辑选中节点的文字
- `Delete`: 删除选中的节点或连接

### 编辑器内快捷键
- `Enter`: 完成编辑并保存
- `Shift + Enter`: 换行
- `Escape`: 取消编辑

## 使用技巧

### 节点编辑
1. 矩形和文本节点：
   - 右键点击打开菜单
   - 选中后按回车快速编辑
   - 编辑器中：Enter键完成编辑，Shift+Enter键换行
   - 通过菜单调整字体大小和颜色

2. 图片节点：
   - 复制任意图片到剪贴板
   - 在画布上按 Ctrl+V 粘贴
   - 拖动四角的控制点调整大小

### 子图操作
1. 进入子图：
   - 双击矩形节点
   - 在子图中可以继续创建和编辑节点
   - 支持无限层级的子图

2. 导航：
   - 使用右上角的返回按钮返回上级
   - 点击底部导航栏直接跳转到指定层级
   - 导航栏显示完整的层级路径

### 保存和加载
1. 保存：
   - 点击"Save"按钮
   - 自动下载 JSON 格式的图数据文件

2. 加载：
   - 点击"Load"按钮
   - 选择之前保存的 JSON 文件
   - 完整恢复图的结构和内容

## 注意事项

1. 图片节点：
   - 最小尺寸限制为 30x30 像素
   - 调整大小时会保持图片居中

2. 子图：
   - 只有矩形节点支持子图功能
   - 进入子图前请确保保存当前层级的更改

3. 连接：
   - 不支持节点自连接
   - 可以跨类型节点创建连接
