# å³é”®èœå•å’Œç»„ä»¶ç³»ç»Ÿ

## ç³»ç»Ÿæ¦‚è¿°

å³é”®èœå•å’Œç»„ä»¶ç³»ç»Ÿæä¾›äº†ä¸°å¯Œçš„ç”¨æˆ·äº¤äº’åŠŸèƒ½ï¼ŒåŒ…æ‹¬æ–‡æœ¬ç¼–è¾‘ã€æ ·å¼è°ƒæ•´ã€å›¾ç‰‡é¢„è§ˆç­‰ã€‚ç³»ç»Ÿç»“åˆäº†åŸç”ŸJavaScriptçš„èœå•å®ç°å’ŒReactç»„ä»¶çš„ç°ä»£åŒ–UIã€‚

## 1. å³é”®èœå•ç³»ç»Ÿ (contextMenu/)

### ContextMenu ç±» (contextMenu.js)

#### æ ¸å¿ƒç»“æ„
```javascript
class ContextMenu {
  constructor(graph) {
    this.graph = graph;
    this.menu = this.createContextMenu();
    document.body.appendChild(this.menu);
    this.bindEvents();
  }
}
```

#### èœå•ç»“æ„

##### ä¸»èœå•é¡¹
1. **ç¼–è¾‘æ–‡æœ¬** (âœï¸ Edit Text)
2. **å­—ä½“å¤§å°** (ğŸ“ Font Size) - å¸¦å­èœå•
3. **æ–‡æœ¬é¢œè‰²** (ğŸ¨ Text Color) - å¸¦å­èœå•

##### å­—ä½“å¤§å°å­èœå•
```javascript
const fontSizeSubmenu = this.createSubmenu([
  { size: 12, label: 'Small (12px)' },
  { size: 16, label: 'Medium (16px)' },
  { size: 20, label: 'Large (20px)' },
  { size: 24, label: 'Extra Large (24px)' }
]);
```

##### æ–‡æœ¬é¢œè‰²å­èœå•
```javascript
const colorSubmenu = this.createColorSubmenu([
  { color: colors.black, label: 'Black' },
  { color: colors.primary, label: 'Blue' },
  { color: colors.success, label: 'Green' },
  { color: colors.error, label: 'Red' },
  { color: colors.purple, label: 'Purple' },
  { color: colors.warning, label: 'Orange' }
]);
```

### èœå•åˆ›å»ºæ–¹æ³•

#### createContextMenu() - åˆ›å»ºä¸»èœå•
```javascript
createContextMenu() {
  const menu = document.createElement('div');
  menu.id = 'context-menu';
  menu.className = 'context-menu';
  menu.style.display = 'none';

  // ç¼–è¾‘æ–‡æœ¬é€‰é¡¹
  const editItem = this.createMenuItem('edit', 'âœï¸', 'Edit Text');
  menu.appendChild(editItem);

  // å­—ä½“å¤§å°é€‰é¡¹
  const fontSizeItem = this.createMenuItem('font-size', 'ğŸ“', 'Font Size');
  const fontSizeSubmenu = this.createSubmenu([...]);
  fontSizeItem.appendChild(fontSizeSubmenu);
  menu.appendChild(fontSizeItem);

  // æ–‡æœ¬é¢œè‰²é€‰é¡¹
  const textColorItem = this.createMenuItem('text-color', 'ğŸ¨', 'Text Color');
  const colorSubmenu = this.createColorSubmenu([...]);
  textColorItem.appendChild(colorSubmenu);
  menu.appendChild(textColorItem);

  return menu;
}
```

#### createMenuItem() - åˆ›å»ºèœå•é¡¹
```javascript
createMenuItem(action, icon, label) {
  const item = document.createElement('div');
  item.className = 'menu-item';
  item.dataset.action = action;
  
  const iconSpan = document.createElement('i');
  iconSpan.className = 'menu-icon';
  iconSpan.textContent = icon;
  
  item.appendChild(iconSpan);
  item.appendChild(document.createTextNode(label));
  
  return item;
}
```

#### createColorSubmenu() - åˆ›å»ºé¢œè‰²å­èœå•
```javascript
createColorSubmenu(items) {
  const submenu = document.createElement('div');
  submenu.className = 'submenu color-submenu';
  
  items.forEach(item => {
    const menuItem = document.createElement('div');
    menuItem.className = 'menu-item color-item';
    menuItem.dataset.color = item.color;
    
    const colorDot = document.createElement('span');
    colorDot.className = 'color-dot';
    colorDot.style.background = item.color;
    
    menuItem.appendChild(colorDot);
    menuItem.appendChild(document.createTextNode(item.label));
    submenu.appendChild(menuItem);
  });
  
  return submenu;
}
```

### èœå•æ˜¾ç¤ºå’Œäº¤äº’

#### show() - æ˜¾ç¤ºèœå•
```javascript
show(x, y, node) {
  this.menu.style.display = 'block';
  this.menu.style.left = `${x}px`;
  this.menu.style.top = `${y}px`;
  
  // å­˜å‚¨å½“å‰èŠ‚ç‚¹å¼•ç”¨
  this.menu.dataset.nodeId = node.get('id');
  
  // è·å–èŠ‚ç‚¹å½“å‰æ ·å¼
  const model = node.getModel();
  const currentFontSize = model.labelCfg?.style?.fontSize || styleConfig.fontSize.medium;
  const currentColor = model.labelCfg?.style?.fill || colors.black;
  
  // æ›´æ–°å­—ä½“å¤§å°é¡¹æ˜¾ç¤ºå½“å‰å¤§å°
  this.menu.querySelectorAll('.submenu .menu-item[data-size]').forEach(item => {
    const size = parseInt(item.dataset.size);
    if (size === currentFontSize) {
      item.style.fontWeight = 'bold';
      item.style.color = colors.primary;
    } else {
      item.style.fontWeight = 'normal';
      item.style.color = colors.black;
    }
  });

  // æ›´æ–°é¢œè‰²é¡¹æ˜¾ç¤ºå½“å‰é¢œè‰²
  this.menu.querySelectorAll('.color-item').forEach(item => {
    const color = item.dataset.color;
    if (color === currentColor) {
      item.classList.add('active');
    } else {
      item.classList.remove('active');
    }
  });
}
```

#### èœå•äº‹ä»¶å¤„ç†
```javascript
bindEvents() {
  // å¤„ç†èœå•é¡¹ç‚¹å‡»
  this.menu.addEventListener('click', (ev) => {
    const target = ev.target.closest('.menu-item');
    if (!target) return;
    
    const nodeId = this.menu.dataset.nodeId;
    const node = this.graph.findById(nodeId);
    
    if (!node) return;
    
    if (target.dataset.action === 'edit') {
      startEditingLabel(node, this.graph);
    } else if (target.dataset.size) {
      // æ›´æ–°å­—ä½“å¤§å°
      const fontSize = parseInt(target.dataset.size);
      this.graph.updateItem(node, {
        labelCfg: {
          style: {
            ...node.get('labelCfg')?.style,
            fontSize
          }
        }
      });
    } else if (target.dataset.color) {
      // æ›´æ–°æ–‡æœ¬é¢œè‰²
      const color = target.dataset.color;
      this.graph.updateItem(node, {
        labelCfg: {
          style: {
            ...node.get('labelCfg')?.style,
            fill: color
          }
        }
      });
    }
    
    this.hide();
  });

  // ç‚¹å‡»å¤–éƒ¨éšè—èœå•
  document.addEventListener('click', (ev) => {
    if (!ev.target.closest('.context-menu')) {
      this.hide();
    }
  });

  // æŒ‰ä¸‹å›è½¦é”®ç¼–è¾‘
  document.addEventListener('keydown', (e) => {
    // å¦‚æœæ­£åœ¨è¾“å…¥æ–‡æœ¬ï¼Œä¸å¤„ç†å¿«æ·é”®
    if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') {
      return;
    }
    
    const selectedItem = this.graph.get('selectedItem');
    if (e.key === 'Enter' && selectedItem && 
        selectedItem.getModel().type !== 'text-only') {
      e.preventDefault();
      startEditingLabel(selectedItem, this.graph);
    }
  });
}
```

## 2. æ–‡æœ¬ç¼–è¾‘å™¨ (labelEditor.js)

### startEditingLabel å‡½æ•°

#### æ ¸å¿ƒåŠŸèƒ½
- **åŸåœ°ç¼–è¾‘**: åœ¨èŠ‚ç‚¹ä½ç½®åˆ›å»ºè¾“å…¥æ¡†
- **è‡ªåŠ¨å®šä½**: æ ¹æ®èŠ‚ç‚¹ä½ç½®å’Œå¤§å°è®¡ç®—è¾“å…¥æ¡†ä½ç½®
- **æ ·å¼åŒ¹é…**: è¾“å…¥æ¡†æ ·å¼ä¸èŠ‚ç‚¹æ–‡æœ¬æ ·å¼ä¿æŒä¸€è‡´

#### å®ç°ä»£ç 
```javascript
export const startEditingLabel = (item, graph) => {
  const model = item.getModel();
  const currentLabel = model.label || '';
  
  // è·å–èŠ‚ç‚¹ä½ç½®å’Œå¤§å°
  const nodeBox = item.getBBox();
  const { x, y, width, height } = nodeBox;
  const point = graph.getCanvasByPoint(x, y);
  
  // åˆ›å»ºè¾“å…¥å…ƒç´ 
  const input = document.createElement('input');
  input.value = currentLabel;
  input.className = 'node-editor';
  input.style.position = 'absolute';
  input.style.width = `${Math.max(120, width)}px`;
  input.style.padding = '4px 8px';
  input.style.border = `2px solid ${colors.primary}`;
  input.style.borderRadius = '4px';
  input.style.zIndex = '1000';
  input.style.fontSize = '16px';
  input.style.backgroundColor = 'white';
  input.style.boxShadow = '0 2px 8px rgba(0,0,0,0.15)';
  
  // å°†è¾“å…¥æ¡†å®šä½åˆ°èŠ‚ç‚¹ä¸­å¿ƒ
  input.style.left = `${point.x - width/2}px`;
  input.style.top = `${point.y - height/2}px`;
  
  document.body.appendChild(input);
  input.focus();
  input.select(); // é€‰ä¸­æ‰€æœ‰æ–‡æœ¬ä»¥ä¾¿ç¼–è¾‘

  // å¤„ç†è¾“å…¥æäº¤
  const handleSubmit = () => {
    const newLabel = input.value.trim();
    if (newLabel) {
      graph.updateItem(item, { label: newLabel });
    }
    document.body.removeChild(input);
  };

  // å¤„ç†è¾“å…¥äº‹ä»¶
  textarea.addEventListener('blur', handleSubmit);
  textarea.addEventListener('keydown', (e) => {
    if (e.key === 'Enter' && !e.shiftKey) {
      // Enteré”®å®Œæˆç¼–è¾‘
      e.preventDefault();
      handleSubmit();
    } else if (e.key === 'Enter' && e.shiftKey) {
      // Shift+Enteræ¢è¡Œï¼Œé˜»æ­¢äº‹ä»¶å†’æ³¡åˆ°documentçº§åˆ«
      e.stopPropagation();
    } else if (e.key === 'Escape') {
      // Escape å–æ¶ˆ
      e.preventDefault();
      handleCancel();
    }
  });
};
```

#### ç‰¹æ€§è¯´æ˜
- **è‡ªåŠ¨èšç„¦**: åˆ›å»ºåç«‹å³è·å¾—ç„¦ç‚¹
- **å…¨é€‰æ–‡æœ¬**: æ–¹ä¾¿ç”¨æˆ·ç›´æ¥è¾“å…¥æ›¿æ¢
- **æ™ºèƒ½å°ºå¯¸**: è¾“å…¥æ¡†å®½åº¦è‡³å°‘120pxï¼Œæˆ–èŠ‚ç‚¹å®½åº¦
- **å¤šè¡Œæ”¯æŒ**: ä½¿ç”¨textareaæ”¯æŒå¤šè¡Œæ–‡æœ¬ç¼–è¾‘
- **è‡ªåŠ¨è°ƒæ•´é«˜åº¦**: æ ¹æ®å†…å®¹è‡ªåŠ¨è°ƒæ•´è¾“å…¥æ¡†é«˜åº¦
- **é”®ç›˜äº‹ä»¶å¤„ç†**: 
  - Enteré”®ï¼šå®Œæˆç¼–è¾‘å¹¶ä¿å­˜
  - Shift+Enteré”®ï¼šæ¢è¡Œ
  - Escapeé”®ï¼šå–æ¶ˆç¼–è¾‘
  - å¤±ç„¦ï¼šè‡ªåŠ¨ä¿å­˜
- **äº‹ä»¶å†’æ³¡æ§åˆ¶**: é˜²æ­¢ç¼–è¾‘å™¨å†…æŒ‰é”®è§¦å‘å…¨å±€å¿«æ·é”®

## 3. Reactç»„ä»¶ç³»ç»Ÿ (components/)

### ImagePreview ç»„ä»¶ (ImagePreview.jsx)

#### ç»„ä»¶åŠŸèƒ½
- **å…¨å±é¢„è§ˆ**: è¦†ç›–æ•´ä¸ªè§†å£çš„å›¾ç‰‡é¢„è§ˆ
- **ç¼©æ”¾åŠŸèƒ½**: é¼ æ ‡æ»šè½®ç¼©æ”¾ (0.1x - 5x)
- **æ‹–æ‹½ç§»åŠ¨**: æ‹–æ‹½å›¾ç‰‡åœ¨é¢„è§ˆåŒºåŸŸå†…ç§»åŠ¨
- **èƒŒæ™¯å…³é—­**: ç‚¹å‡»èƒŒæ™¯åŒºåŸŸå…³é—­é¢„è§ˆ
- **çŠ¶æ€æ˜¾ç¤º**: æ˜¾ç¤ºå½“å‰ç¼©æ”¾ç™¾åˆ†æ¯”

#### æ ¸å¿ƒçŠ¶æ€
```javascript
const ImagePreviewComponent = ({ src, onClose }) => {
  const [scale, setScale] = useState(1);           // ç¼©æ”¾æ¯”ä¾‹
  const [position, setPosition] = useState({ x: 0, y: 0 }); // å›¾ç‰‡ä½ç½®
  const isDragging = useRef(false);                // æ‹–æ‹½çŠ¶æ€
  const startPos = useRef({ x: 0, y: 0 });        // æ‹–æ‹½èµ·å§‹ä½ç½®
  const containerRef = useRef(null);               // å®¹å™¨å¼•ç”¨
};
```

#### ç¼©æ”¾åŠŸèƒ½å®ç°
```javascript
const handleWheel = (e) => {
  e.preventDefault();
  const delta = e.deltaY > 0 ? -0.1 : 0.1;
  setScale(prevScale => {
    const newScale = Math.min(Math.max(prevScale + delta, 0.1), 5);
    return newScale;
  });
};
```

#### æ‹–æ‹½åŠŸèƒ½å®ç°
```javascript
const handleMouseDown = (e) => {
  if (e.target === containerRef.current) return;
  e.preventDefault();
  isDragging.current = true;
  startPos.current = { x: e.clientX - position.x, y: e.clientY - position.y };
  e.target.style.cursor = 'grabbing';
};

const handleMouseMove = (e) => {
  if (!isDragging.current) return;
  e.preventDefault();
  const newX = e.clientX - startPos.current.x;
  const newY = e.clientY - startPos.current.y;
  setPosition({ x: newX, y: newY });
};
```

#### ç»„ä»¶æ¸²æŸ“
```javascript
return (
  <div
    ref={containerRef}
    style={{
      position: 'fixed',
      top: 0,
      left: 0,
      width: '100vw',
      height: '100vh',
      backgroundColor: 'rgba(0, 0, 0, 0.85)',
      zIndex: 1000,
      display: 'flex',
      justifyContent: 'center',
      alignItems: 'center',
    }}
    onClick={handleBackgroundClick}
    onWheel={handleWheel}
    onMouseMove={handleMouseMove}
    onMouseUp={handleMouseUp}
  >
    {/* å…³é—­æŒ‰é’® */}
    <div style={{...}} onClick={onClose}>Ã—</div>

    {/* ç¼©æ”¾ä¿¡æ¯ */}
    <div style={{...}}>{Math.round(scale * 100)}%</div>

    <Image
      src={src}
      preview={false}
      style={{
        transform: `scale(${scale}) translate(${position.x / scale}px, ${position.y / scale}px)`,
        cursor: isDragging.current ? 'grabbing' : 'grab',
        maxWidth: '90vw',
        maxHeight: '90vh',
        objectFit: 'contain',
      }}
      onMouseDown={handleMouseDown}
      draggable={false}
    />
  </div>
);
```

#### ç”Ÿå‘½å‘¨æœŸç®¡ç†
```javascript
// åœ¨ç»„ä»¶æŒ‚è½½æ—¶ç¦ç”¨æ»šåŠ¨ï¼Œå¸è½½æ—¶æ¢å¤
React.useEffect(() => {
  const originalStyle = window.getComputedStyle(document.body).overflow;
  document.body.style.overflow = 'hidden';
  
  return () => {
    document.body.style.overflow = originalStyle;
  };
}, []);
```

### showImagePreview å‡½æ•°

#### åŠ¨æ€æŒ‚è½½ç»„ä»¶
```javascript
export const showImagePreview = (imgSrc) => {
  const container = document.createElement('div');
  document.body.appendChild(container);

  const root = createRoot(container);
  const handleClose = () => {
    root.unmount();
    document.body.removeChild(container);
  };

  root.render(
    <ImagePreviewComponent
      src={imgSrc}
      onClose={handleClose}
    />
  );
};
```

## 4. æ ·å¼ç³»ç»Ÿ

### å³é”®èœå•æ ·å¼
```css
.context-menu {
  position: fixed;
  background: white;
  border: 1px solid #e8e8e8;
  border-radius: 4px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.15);
  padding: 6px 0;
  min-width: 200px;
  z-index: 1000;
}

.menu-item {
  padding: 10px 20px;
  cursor: pointer;
  display: flex;
  align-items: center;
  position: relative;
  color: #333;
  font-size: 18px;
  transition: all 0.3s;
}

.menu-item:hover {
  background: #e6f7ff;
  color: #1890ff;
}
```

### å­èœå•æ ·å¼
```css
.submenu {
  display: none;
  position: absolute;
  left: 100%;
  top: 0;
  background: white;
  border: 1px solid #e8e8e8;
  border-radius: 4px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.15);
  min-width: 180px;
  margin-left: 2px;
}

.menu-item[data-action="font-size"]:hover .submenu,
.menu-item[data-action="text-color"]:hover .submenu {
  display: block;
}
```

### é¢œè‰²é€‰æ‹©å™¨æ ·å¼
```css
.color-dot {
  display: inline-block;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  margin-right: 12px;
  border: 1px solid rgba(0,0,0,0.1);
  vertical-align: middle;
}

.color-item.active {
  font-weight: bold;
  color: #1890ff;
}

.color-item.active .color-dot {
  border: 2px solid #1890ff;
}
```

### æ–‡æœ¬ç¼–è¾‘å™¨æ ·å¼
```css
.node-editor {
  font-family: Arial, sans-serif;
  font-size: 20px;
  background: white;
  box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  outline: none;
  padding: 8px 12px;
  border: 2px solid #1890ff;
  border-radius: 4px;
}

.node-editor:focus {
  border-color: #40a9ff;
  box-shadow: 0 0 0 2px rgba(24,144,255,0.2);
}
```

## 5. é”®ç›˜äº‹ä»¶å¤„ç†ä¼˜åŒ–

### é—®é¢˜èƒŒæ™¯
åœ¨åŸå§‹å®ç°ä¸­ï¼Œå½“ç”¨æˆ·åœ¨æ–‡æœ¬ç¼–è¾‘å™¨ä¸­æŒ‰ä¸‹Enteré”®æ—¶ï¼Œä¼šåŒæ—¶è§¦å‘ä¸¤ä¸ªäº‹ä»¶ï¼š
1. ç¼–è¾‘å™¨å†…çš„Enteré”®å¤„ç†ï¼ˆç”¨äºæ¢è¡Œï¼‰
2. å…¨å±€çš„Enteré”®ç›‘å¬å™¨ï¼ˆç”¨äºå¼€å§‹æ–°çš„ç¼–è¾‘ï¼‰

è¿™å¯¼è‡´ç”¨æˆ·åœ¨ç¼–è¾‘å™¨ä¸­æŒ‰Enteré”®æ¢è¡Œæ—¶ï¼Œä¼šæ„å¤–åœ°é‡æ–°å¼€å§‹ç¼–è¾‘ä¼šè¯ã€‚

### è§£å†³æ–¹æ¡ˆ

#### 1. ç¼–è¾‘å™¨å†…äº‹ä»¶å†’æ³¡æ§åˆ¶
```javascript
textarea.addEventListener('keydown', (e) => {
  if (e.key === 'Enter' && !e.shiftKey) {
    // Enteré”®å®Œæˆç¼–è¾‘
    e.preventDefault();
    handleSubmit();
  } else if (e.key === 'Enter' && e.shiftKey) {
    // Shift+Enteræ¢è¡Œï¼Œé˜»æ­¢äº‹ä»¶å†’æ³¡åˆ°documentçº§åˆ«
    e.stopPropagation();
  } else if (e.key === 'Escape') {
    // Escape å–æ¶ˆ
    e.preventDefault();
    handleCancel();
  }
});
```

#### 2. å…¨å±€äº‹ä»¶ç›‘å¬å™¨ä¼˜åŒ–
```javascript
document.addEventListener('keydown', (e) => {
  // å¦‚æœæ­£åœ¨è¾“å…¥æ–‡æœ¬ï¼Œä¸å¤„ç†å¿«æ·é”®
  if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') {
    return;
  }
  
  const selectedItem = this.graph.get('selectedItem');
  if (e.key === 'Enter' && selectedItem && 
      selectedItem.getModel().type !== 'text-only') {
    e.preventDefault();
    startEditingLabel(selectedItem, this.graph);
  }
});
```

### ä¼˜åŒ–åçš„é”®ç›˜è¡Œä¸º

#### å…¨å±€å¿«æ·é”®ï¼ˆé€‰ä¸­èŠ‚ç‚¹æ—¶ï¼‰
- **Enteré”®**: å¼€å§‹ç¼–è¾‘é€‰ä¸­çš„çŸ©å½¢èŠ‚ç‚¹
- **Escapeé”®**: å–æ¶ˆå½“å‰å·¥å…·æ¨¡å¼
- **ç©ºæ ¼é”®**: è‡ªåŠ¨é€‚é…è§†å›¾

#### ç¼–è¾‘å™¨å†…å¿«æ·é”®
- **Enteré”®**: å®Œæˆç¼–è¾‘å¹¶ä¿å­˜
- **Shift+Enteré”®**: æ¢è¡Œï¼ˆä¸å®Œæˆç¼–è¾‘ï¼‰
- **Escapeé”®**: å–æ¶ˆç¼–è¾‘
- **å¤±ç„¦**: å®Œæˆç¼–è¾‘å¹¶ä¿å­˜

### æŠ€æœ¯è¦ç‚¹

1. **äº‹ä»¶å†’æ³¡æ§åˆ¶**: ä½¿ç”¨ `e.stopPropagation()` é˜²æ­¢ç¼–è¾‘å™¨å†…äº‹ä»¶å†’æ³¡åˆ°documentçº§åˆ«
2. **è¾“å…¥çŠ¶æ€æ£€æµ‹**: åœ¨å…¨å±€ç›‘å¬å™¨ä¸­æ£€æŸ¥å½“å‰ç„¦ç‚¹å…ƒç´ ï¼Œé¿å…åœ¨ç¼–è¾‘æ—¶è§¦å‘å¿«æ·é”®
3. **äº‹ä»¶ä¼˜å…ˆçº§**: ç¼–è¾‘å™¨å†…äº‹ä»¶å¤„ç†ä¼˜å…ˆäºå…¨å±€äº‹ä»¶å¤„ç†
4. **ç”¨æˆ·ä½“éªŒ**: ç¬¦åˆå¸¸è§æ–‡æœ¬ç¼–è¾‘å™¨çš„é”®ç›˜ä¹ æƒ¯

## 6. äº¤äº’æµç¨‹

### å³é”®èœå•ä½¿ç”¨æµç¨‹
1. ç”¨æˆ·å³é”®ç‚¹å‡»èŠ‚ç‚¹
2. è§¦å‘ `node:contextmenu` äº‹ä»¶
3. ContextMenu.show() æ˜¾ç¤ºèœå•
4. æ ¹æ®èŠ‚ç‚¹å½“å‰æ ·å¼æ›´æ–°èœå•çŠ¶æ€
5. ç”¨æˆ·ç‚¹å‡»èœå•é¡¹
6. æ‰§è¡Œç›¸åº”æ“ä½œï¼ˆç¼–è¾‘æ–‡æœ¬ã€ä¿®æ”¹æ ·å¼ï¼‰
7. éšè—èœå•

### æ–‡æœ¬ç¼–è¾‘æµç¨‹
1. è§¦å‘ç¼–è¾‘ï¼ˆå³é”®èœå•ã€åŒå‡»æ–‡æœ¬èŠ‚ç‚¹ã€Enteré”®ï¼‰
2. startEditingLabel() åˆ›å»ºè¾“å…¥æ¡†
3. è¾“å…¥æ¡†å®šä½åˆ°èŠ‚ç‚¹ä½ç½®
4. ç”¨æˆ·è¾“å…¥æ–‡æœ¬
5. ç¡®è®¤è¾“å…¥ï¼ˆEnterã€å¤±ç„¦ï¼‰
6. æ›´æ–°èŠ‚ç‚¹æ ‡ç­¾
7. ç§»é™¤è¾“å…¥æ¡†

### å›¾ç‰‡é¢„è§ˆæµç¨‹
1. ç”¨æˆ·åŒå‡»å›¾ç‰‡èŠ‚ç‚¹
2. è§¦å‘ showImagePreview()
3. åŠ¨æ€åˆ›å»ºReactç»„ä»¶
4. å…¨å±æ˜¾ç¤ºå›¾ç‰‡é¢„è§ˆ
5. ç”¨æˆ·äº¤äº’ï¼ˆç¼©æ”¾ã€æ‹–æ‹½ï¼‰
6. å…³é—­é¢„è§ˆï¼ˆç‚¹å‡»èƒŒæ™¯ã€å…³é—­æŒ‰é’®ï¼‰
7. å¸è½½ç»„ä»¶å¹¶æ¸…ç†DOM


